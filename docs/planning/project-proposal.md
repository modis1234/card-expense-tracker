# 카드 결제 내역 자동 분류 가계부 프로젝트 기획서

## 📋 프로젝트 개요

### 프로젝트명

**SmartExpense** (가칭)

### 한 줄 소개

여러 카드사의 엑셀 결제 내역을 업로드하면 AI가 자동으로 카테고리를 분류해주는 프라이버시 중심 가계부 서비스

### 개발 기간

- **Phase 0 (기획)**: 2주
- **Phase 1 (MVP)**: 8-12주
- **Phase 2 (모바일)**: 4-6주 (선택적)
- **총 예상 기간**: 3-5개월

### 개발 인원

- 1인 (풀스택)

---

## 🎯 프로젝트 목표

### 핵심 목표

1. **프라이버시 보호**: 은행 API 연동 없이 엑셀 업로드 방식으로 사용자 데이터 보호
2. **자동화**: AI를 활용한 거래 내역 자동 카테고리 분류로 수동 입력 최소화
3. **통합 관리**: 여러 카드사의 결제 내역을 한 곳에서 통합 관리
4. **인사이트 제공**: 지출 패턴 분석 및 시각화를 통한 재무 인사이트

### 부가 목표

- 풀스택 개발 경험 축적
- 포트폴리오 프로젝트
- 실제 사용 가능한 서비스 출시

---

## 🔍 시장 분석

### 타겟 사용자

#### 주 타겟

- **프라이버시 중시 사용자**: 은행 API 연동을 꺼리는 사용자
- **다중 카드 사용자**: 여러 카드를 사용하여 통합 관리가 필요한 사용자
- **가계부 피로 사용자**: 수동 입력에 지친 사용자

#### 부 타겟

- 재테크에 관심 있는 2030세대
- 가족 단위 지출 관리가 필요한 사용자
- 프리랜서/자영업자 (경비 관리)

### 시장 기회

#### 기존 서비스의 한계

| 서비스         | 방식           | 한계점                     |
| -------------- | -------------- | -------------------------- |
| 뱅크샐러드     | 은행 API 연동  | 프라이버시 우려, 보안 불안 |
| 토스           | 계좌 연동      | 모든 카드사 지원 안 함     |
| 카카오페이     | 결제 내역 추적 | 카카오페이 결제만 가능     |
| 엑셀 수동 관리 | 직접 입력      | 시간 소모, 분류 어려움     |

#### 우리의 차별점

1. **엑셀 업로드 방식**: API 연동 없이 안전
2. **AI 자동 분류**: 수동 입력 최소화
3. **다중 카드사 지원**: 주요 카드사 통합
4. **오픈소스 가능성**: 투명성 확보

### 경쟁 분석

#### 글로벌 서비스

- **Mint** (미국): 은행 연동, AI 분류
- **YNAB**: 수동 입력 + 예산 관리
- **Quicken**: 엔터프라이즈급, 복잡함

#### 국내 서비스

- **뱅크샐러드**: 시장 점유율 1위, 은행 연동
- **토스**: 간편함, 제한적 기능
- **네이버 가계부**: 수동 입력 중심

#### 시장 포지셔닝

```
                높음
                 ↑
    프라이버시   │   YNAB
                 │   (우리 서비스)
                 │
                 │   Mint
    낮음         │   뱅크샐러드
                 │   토스
                 └─────────────→
                낮음    편의성    높음
```

---

## 💡 핵심 기능

### MVP (Phase 1)

#### 1. 사용자 인증

- 이메일 회원가입/로그인
- JWT 기반 인증
- 비밀번호 암호화

#### 2. 엑셀 파일 업로드

- 드래그 앤 드롭 지원
- 다중 파일 업로드
- 암호화된 파일 지원 (비밀번호 입력)
- 지원 카드사:
  - 신한카드
  - 삼성카드
  - 현대카드
  - KB국민카드
  - 롯데카드

#### 3. AI 자동 분류

- OpenAI GPT-4 활용
- 거래명 기반 카테고리 자동 분류
- 신뢰도 표시
- 사용자 피드백 학습

**카테고리 체계:**

```
대분류 (8개)
├── 식비 🍽️
│   ├── 외식
│   ├── 배달
│   ├── 카페/디저트  --- 카페/디저트/외식도 배달을 한다면?
│   └── 장보기
├── 교통 🚗
│   ├── 대중교통
│   ├── 택시
│   ├── 주유
│   └── 주차
├── 쇼핑 🛍️
│   ├── 의류
│   ├── 뷰티
│   ├── 생활용품
│   └── 온라인쇼핑
├── 주거/통신 🏠
│   ├── 월세/관리비
│   ├── 통신비
│   ├── 공과금
│   └── 인테리어
├── 의료/건강 ⚕️
│   ├── 병원
│   ├── 약국
│   ├── 건강식품
│   └── 운동
├── 문화/여가 🎬
│   ├── 영화/공연
│   ├── 여행
│   ├── 취미
│   └── 구독서비스
├── 교육 📚
│   ├── 학원/강의
│   ├── 도서
│   └── 자기계발
└── 기타 📌
    ├── 경조사
    ├── 기부
    └── 미분류
```

#### 4. 거래 내역 관리

- 거래 목록 조회 (필터링, 정렬, 검색)
- 거래 상세 보기
- 카테고리 수정
- 메모 추가
- 거래 삭제

#### 5. 통계 대시보드

- 기간별 총 지출
- 카테고리별 지출 (파이 차트)
- 월별 트렌드 (라인 차트)
- 카테고리별 순위 (바 차트)
- 기간 선택 (이번 달, 지난 달, 최근 3개월, 커스텀)

#### 6. 카테고리 관리

- 카테고리 목록
- 카테고리 생성/수정/삭제
- 아이콘/색상 커스터마이징

### Phase 2 (고도화)

#### 1. Gmail API 연동

- 카드사 이메일 자동 수집
- 첨부파일 자동 다운로드
- 자동 업로드 및 분류

#### 2. 예산 관리

- 카테고리별 예산 설정
- 예산 초과 알림
- 예산 대비 실제 지출 비교

#### 3. 고급 분석

- 지출 패턴 분석
- 전월 대비 증감
- 카테고리별 트렌드
- 이상 지출 감지

#### 4. 리포트 내보내기

- PDF 리포트 생성
- Excel 내보내기
- 월간/연간 리포트

### Phase 3 (확장)

#### 1. 모바일 앱

- React Native + Expo
- 카메라로 영수증 촬영
- 푸시 알림

#### 2. 가족 계정

- 멀티 유저 지원
- 가족 구성원별 지출 관리
- 공유 예산

#### 3. 더 많은 카드사 지원

- 하나카드, 우리카드, 씨티카드 등
- 체크카드 지원
- 해외 카드 지원

---

## 🏗️ 기술 스택

### Frontend

```
Framework: Next.js 15+ (App Router)
Language: TypeScript
Styling: Tailwind CSS
State: Zustand
Data Fetching: TanStack Query
Forms: React Hook Form + Zod
Charts: Recharts
UI Components: Radix UI
Icons: Lucide React
```

### Backend

```
Framework: NestJS
Language: TypeScript
Database: PostgreSQL (Supabase)
ORM: Prisma
Authentication: JWT + Passport
File Upload: Multer
Excel Parsing: xlsx, xlsx-populate
AI: OpenAI API (GPT-4)
```

### Infrastructure

```
Frontend Hosting: Vercel
Backend Hosting: Railway
Database: Supabase (PostgreSQL)
Storage: Supabase Storage
Monitoring: Sentry
CI/CD: GitHub Actions
```

### Development Tools

```
Version Control: Git + GitHub
Package Manager: npm
Code Quality: ESLint, Prettier
Testing: Jest, React Testing Library
API Testing: Postman
Design: Figma (와이어프레임)
```

---

## 📊 데이터베이스 설계

### ERD

```
┌─────────────┐
│    User     │
├─────────────┤
│ id          │──┐
│ email       │  │
│ password    │  │
│ name        │  │
│ createdAt   │  │
│ updatedAt   │  │
└─────────────┘  │
                 │
                 │ 1:N
                 │
┌────────────────▼──┐
│   Transaction     │
├───────────────────┤
│ id                │
│ userId            │
│ categoryId        │──┐
│ date              │  │
│ amount            │  │
│ merchantName      │  │
│ description       │  │
│ cardCompany       │  │
│ needsReview       │  │
│ confidence        │  │
│ fileId            │  │
│ createdAt         │  │
│ updatedAt         │  │
└───────────────────┘  │
                       │ N:1
                       │
                 ┌─────▼──────┐
                 │  Category  │
                 ├────────────┤
                 │ id         │
                 │ name       │
                 │ parentId   │
                 │ icon       │
                 │ color      │
                 └────────────┘

┌─────────────┐
│    File     │
├─────────────┤
│ id          │
│ userId      │
│ filename    │
│ originalName│
│ fileUrl     │
│ cardCompany │
│ uploadedAt  │
└─────────────┘

┌──────────────────┐
│  UserFeedback    │
├──────────────────┤
│ id               │
│ userId           │
│ transactionId    │
│ oldCategoryId    │
│ newCategoryId    │
│ merchantName     │
│ createdAt        │
└──────────────────┘
```

---

## 🎨 UI/UX 설계

### 디자인 원칙

1. **단순함**: 복잡하지 않은 직관적인 인터페이스
2. **명확함**: 정보 계층 구조가 명확한 레이아웃
3. **일관성**: 통일된 디자인 시스템
4. **반응형**: 모바일/태블릿/데스크톱 대응

### 색상 팔레트

```
Primary: #4F46E5 (Indigo)
Secondary: #10B981 (Green)
Accent: #F59E0B (Amber)
Background: #F9FAFB (Gray 50)
Text: #111827 (Gray 900)
Border: #E5E7EB (Gray 200)
```

### 주요 화면

#### 1. 로그인/회원가입

- 중앙 정렬 폼
- 소셜 로그인 (선택적)
- 비밀번호 찾기

#### 2. 대시보드 (홈)

```
┌─────────────────────────────────────┐
│  [로고]  대시보드  거래내역  통계   │
├─────────────────────────────────────┤
│                                     │
│  📊 이번 달 지출                    │
│  ┌──────────┬──────────┬──────────┐│
│  │ 총 지출  │ 거래건수 │ 평균지출 ││
│  │ 1,234,567│   45건   │  27,435 ││
│  └──────────┴──────────┴──────────┘│
│                                     │
│  📈 카테고리별 지출                 │
│  ┌─────────────────────────────────┐│
│  │     [파이 차트]                 ││
│  └─────────────────────────────────┘│
│                                     │
│  📉 월별 트렌드                     │
│  ┌─────────────────────────────────┐│
│  │     [라인 차트]                 ││
│  └─────────────────────────────────┘│
│                                     │
└─────────────────────────────────────┘
```

#### 3. 파일 업로드

```
┌─────────────────────────────────────┐
│  엑셀 파일 업로드                   │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────────┐│
│  │                                 ││
│  │   📁 파일을 드래그하거나        ││
│  │      클릭하여 선택하세요        ││
│  │                                 ││
│  │   지원 형식: .xlsx, .xls        ││
│  │                                 ││
│  └─────────────────────────────────┘│
│                                     │
│  [ ] 암호화된 파일                  │
│  비밀번호: [__________]             │
│                                     │
│  [취소]              [업로드]       │
│                                     │
└─────────────────────────────────────┘
```

#### 4. 거래 내역 목록

```
┌─────────────────────────────────────┐
│  거래 내역                          │
├─────────────────────────────────────┤
│  [검색] [필터] [정렬] [+ 파일 업로드]│
│                                     │
│  ┌─────────────────────────────────┐│
│  │ 2024-01-30  스타벅스  5,500원   ││
│  │ 카페/디저트 🍽️                  ││
│  ├─────────────────────────────────┤│
│  │ 2024-01-29  GS25     12,000원   ││
│  │ 장보기 🛍️                       ││
│  ├─────────────────────────────────┤│
│  │ 2024-01-28  넷플릭스  9,500원   ││
│  │ 구독서비스 🎬                   ││
│  └─────────────────────────────────┘│
│                                     │
│  [1] 2 3 4 5 ... 10                 │
│                                     │
└─────────────────────────────────────┘
```

#### 5. 거래 상세/수정

```
┌─────────────────────────────────────┐
│  거래 상세                          │
├─────────────────────────────────────┤
│                                     │
│  날짜: 2024-01-30                   │
│  가맹점: 스타벅스 강남점            │
│  금액: 5,500원                      │
│                                     │
│  카테고리: [카페/디저트 ▼]          │
│  신뢰도: ⭐⭐⭐⭐⭐ 95%             │
│                                     │
│  메모:                              │
│  ┌─────────────────────────────────┐│
│  │ 회의 중 커피                    ││
│  └─────────────────────────────────┘│
│                                     │
│  카드사: 신한카드                   │
│  파일: 2024-01-신한카드.xlsx        │
│                                     │
│  [삭제]              [저장]         │
│                                     │
└─────────────────────────────────────┘
```

---

## 🔐 보안 및 프라이버시

### 보안 조치

1. **인증**: JWT 토큰 기반 인증
2. **비밀번호**: bcrypt 해싱
3. **HTTPS**: 모든 통신 암호화
4. **환경 변수**: 민감 정보 분리
5. **입력 검증**: DTO 기반 유효성 검사
6. **SQL Injection 방지**: Prisma ORM 사용
7. **XSS 방지**: 입력 sanitization

### 프라이버시 정책

1. **최소 수집**: 필수 정보만 수집
2. **로컬 처리**: 가능한 클라이언트에서 처리
3. **암호화 저장**: 민감 데이터 암호화
4. **삭제 권한**: 사용자 데이터 완전 삭제 가능
5. **투명성**: 데이터 사용 내역 공개

---

## 💰 비용 구조

### 개발 단계 (Phase 0-1)

```
Supabase: $0 (무료 티어)
Railway: $0 (무료 $5 크레딧/월)
Vercel: $0 (무료 티어)
OpenAI API: $5-10/월

총: $5-10/월
```

### 초기 운영 (사용자 100명)

```
Supabase: $0 (무료 티어)
Railway: $0-5/월
Vercel: $0 (무료 티어)
OpenAI API: $10-20/월

총: $10-25/월
```

### 성장기 (사용자 1,000명)

```
Supabase: $25/월 (Pro)
Railway: $20/월
Vercel: $20/월
OpenAI API: $50-100/월

총: $115-165/월
```

### 대규모 (사용자 10,000명+)

```
AWS 전환 고려
예상: $500-1,000/월
```

---

## 📈 수익 모델

### Phase 1: 무료 서비스

- 사용자 확보 우선
- 피드백 수집
- 서비스 개선

### Phase 2: Freemium 모델

```
무료 플랜:
- 월 100건 거래 분류
- 기본 통계
- 1개 카드사

Basic 플랜 ($4.99/월):
- 무제한 거래 분류
- 고급 통계
- 모든 카드사
- 리포트 내보내기

Pro 플랜 ($9.99/월):
- Basic 기능 전체
- Gmail API 자동 수집
- 가족 계정 (최대 5명)
- 예산 관리
- 우선 지원
```

### Phase 3: 기업 플랜

```
Enterprise ($49.99/월):
- Pro 기능 전체
- 팀 관리 (무제한)
- API 접근
- 커스텀 카테고리
- 전담 지원
```

---

## 📊 성공 지표 (KPI)

### Phase 1 (MVP)

- [ ] 사용자 100명 확보
- [ ] 파일 업로드 성공률 95% 이상
- [ ] AI 분류 정확도 85% 이상
- [ ] 사용자 만족도 4.0/5.0 이상

### Phase 2 (성장)

- [ ] MAU 1,000명
- [ ] 유료 전환율 2% 이상
- [ ] 월 매출 $100 이상
- [ ] 사용자 유지율 60% 이상

### Phase 3 (확장)

- [ ] MAU 10,000명
- [ ] 월 매출 $1,000 이상
- [ ] 앱 스토어 평점 4.5/5.0 이상

---

## 🚀 마케팅 전략

### Phase 1: 초기 사용자 확보

1. **개발자 커뮤니티**: GitHub, 개발자 포럼
2. **SNS**: 트위터, 인스타그램
3. **블로그**: 개발 과정 공유
4. **Product Hunt**: 런칭

### Phase 2: 성장

1. **SEO 최적화**: 검색 노출 증대
2. **콘텐츠 마케팅**: 재테크 블로그
3. **인플루언서**: 재테크 유튜버 협업
4. **추천 프로그램**: 친구 초대 이벤트

### Phase 3: 확장

1. **광고**: Google Ads, Facebook Ads
2. **파트너십**: 카드사, 은행 제휴
3. **PR**: 언론 보도
4. **오프라인**: 세미나, 강연

---

## ⚠️ 리스크 및 대응

### 기술적 리스크

#### 1. AI 분류 정확도 낮음

- **리스크**: 사용자 불만족
- **대응**:
  - 프롬프트 최적화
  - 사용자 피드백 학습
  - 수동 수정 기능 제공

#### 2. 카드사 포맷 변경

- **리스크**: 파싱 실패
- **대응**:
  - 정기적인 포맷 모니터링
  - 에러 리포팅 시스템
  - 빠른 업데이트

#### 3. 성능 이슈

- **리스크**: 대량 데이터 처리 지연
- **대응**:
  - 배치 처리
  - 캐싱 전략
  - DB 최적화

### 비즈니스 리스크

#### 1. 사용자 확보 실패

- **리스크**: 서비스 중단
- **대응**:
  - 적극적인 마케팅
  - 사용자 피드백 반영
  - 차별화된 기능

#### 2. 경쟁 서비스 등장

- **리스크**: 시장 점유율 하락
- **대응**:
  - 지속적인 기능 개선
  - 커뮤니티 구축
  - 브랜드 강화

#### 3. 수익화 실패

- **리스크**: 지속 불가능
- **대응**:
  - 다양한 수익 모델 실험
  - 비용 최적화
  - 투자 유치 고려

---

## 📅 마일스톤

### 2026년 2월 (Phase 0)

- [x] 프로젝트 기획 완료
- [ ] 카드사 포맷 분석 완료
- [ ] DB 스키마 확정
- [ ] 와이어프레임 완성

### 2026년 3-4월 (Phase 1)

- [ ] Backend API 개발 완료
- [ ] Frontend 개발 완료
- [ ] MVP 배포

### 2026년 5월 (Phase 1)

- [ ] 베타 테스트
- [ ] 사용자 100명 확보
- [ ] 피드백 반영

### 2026년 6-7월 (Phase 2)

- [ ] 고급 기능 추가
- [ ] 사용자 1,000명 달성
- [ ] 수익화 시작

### 2026년 8월 이후 (Phase 3)

- [ ] 모바일 앱 출시
- [ ] 사용자 10,000명 달성
- [ ] 확장 기능 추가

---

## 👥 팀 구성 (1인 개발)

### 역할

- **기획**: 요구사항 정의, 기능 설계
- **디자인**: UI/UX 설계, 와이어프레임
- **Backend**: API 개발, DB 설계
- **Frontend**: 웹 개발, UI 구현
- **DevOps**: 배포, 모니터링
- **QA**: 테스트, 버그 수정
- **마케팅**: 사용자 확보, 홍보

### 시간 배분

- 개발: 70%
- 기획/설계: 15%
- 테스트/배포: 10%
- 마케팅: 5%

---

## 📚 참고 자료

### 기술 문서

- [NestJS Documentation](https://docs.nestjs.com)
- [Next.js Documentation](https://nextjs.org/docs)
- [Prisma Documentation](https://www.prisma.io/docs)
- [OpenAI API Documentation](https://platform.openai.com/docs)

### 유사 서비스

- Mint (https://mint.intuit.com)
- YNAB (https://www.ynab.com)
- 뱅크샐러드 (https://www.banksalad.com)

### 시장 조사

- 가계부 앱 시장 분석 리포트
- AI 기반 금융 서비스 트렌드
- 프라이버시 중심 서비스 사례

---

## ✅ 다음 액션

### 즉시 착수

1. **카드사 포맷 조사 완료** (2일)
2. **카테고리 체계 확정** (1일)
3. **DB 스키마 작성** (2일)
4. **와이어프레임 작성** (3일)

### 1주일 내

1. Supabase 프로젝트 생성
2. GitHub 레포지토리 생성
3. 개발 환경 세팅
4. NestJS 프로젝트 초기화

### 2주일 내

1. Backend 개발 시작
2. Prisma 스키마 구현
3. Auth 모듈 개발
4. 첫 API 엔드포인트 구현

---

## 📞 연락처

- **GitHub**: [레포지토리 링크]
- **Email**: [이메일]
- **블로그**: [블로그 링크]

---

**작성일**: 2026-01-30  
**버전**: 1.0  
**작성자**: [이름]
